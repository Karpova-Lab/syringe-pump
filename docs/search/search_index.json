{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Overview # The goal of this project is to provide an open-source syringe pump that is easy to procure and assemble, significantly less expensive than commercial pumps, while maintaining a sufficient level of dispense precision and accuracy. It was developed in the Karpova Lab at HHMI's Janelia research campus. Features # Infuse and retract Limit switches Spring loaded clamps provide secure holding while also allowing syringes to easily be swapped in and out Small footprint (330 mm x 140 mm x 100 mm) Can be mounted vertically or set horizontally on surface Electronics designed to be modular Assembly time < 15 minutes Cost ~ $200 Open source, so you can modify the designs to fit your needs and make improvements! Performance # Below is a comparison between this DIY syringe pump and a commercial Harvard Apparatus PHD 2200 syringe pump. Demo video # Other open source pumps # Here are some other projects you may be interested in: Open-source syringe pump by Moscow State University's Mass Spectrometry Lab Open-source syringe pump by Michigan Tech's Open Sustainability Technology Lab Low cost laser cut syringe pump by Jakob Voigts Poisedon by the Pachter Lab 3D Printed Syringe Pump Rack by aldricnegrier DIY Syringe Pump by Naroom OpenSyringePump by Electrolab Hackerspace","title":"Overview"},{"location":"#overview","text":"The goal of this project is to provide an open-source syringe pump that is easy to procure and assemble, significantly less expensive than commercial pumps, while maintaining a sufficient level of dispense precision and accuracy. It was developed in the Karpova Lab at HHMI's Janelia research campus.","title":"Overview"},{"location":"#features","text":"Infuse and retract Limit switches Spring loaded clamps provide secure holding while also allowing syringes to easily be swapped in and out Small footprint (330 mm x 140 mm x 100 mm) Can be mounted vertically or set horizontally on surface Electronics designed to be modular Assembly time < 15 minutes Cost ~ $200 Open source, so you can modify the designs to fit your needs and make improvements!","title":"Features"},{"location":"#performance","text":"Below is a comparison between this DIY syringe pump and a commercial Harvard Apparatus PHD 2200 syringe pump.","title":"Performance"},{"location":"#demo-video","text":"","title":"Demo video"},{"location":"#other-open-source-pumps","text":"Here are some other projects you may be interested in: Open-source syringe pump by Moscow State University's Mass Spectrometry Lab Open-source syringe pump by Michigan Tech's Open Sustainability Technology Lab Low cost laser cut syringe pump by Jakob Voigts Poisedon by the Pachter Lab 3D Printed Syringe Pump Rack by aldricnegrier DIY Syringe Pump by Naroom OpenSyringePump by Electrolab Hackerspace","title":"Other open source pumps"},{"location":"electronics/","text":"Electronics # Modular Design # A major benefit of this syringe pump design is that the electronics are modular. A 7-pin female header socket provides access to the bipolar stepper motor and two limit switches. Dispensing liquid from a syringe pump requires precise control of stepper motor's rotation. Typically, this involves having some control software running on a computer communicate to a microcontroller... when to rotate which direction to rotate how far to rotate how fast rotate The microcontroller calculates the quantity and timing of partial rotations (steps) that will produce the intended motor movement. This collection of precisely timed step signals is fed into a stepper motor driver IC, which in turn supplies current to motor coils in a sequence that creates a rotating magnetic field, causing the motor shaft to incrementally rotate ( here is a good video for more information on how hybrid stepper motors work). Multiple options exist for each element in the technology stack (control software + microcontroller + stepper driver IC), thereby creating many possibilities for controlling a syringe pump. For example, these three neuroscience labs developed the following solutions: Project Software Development Board (Microcontroller) Stepper Driver Poulet Lab Bpod motor controller Bpod Teensy 3.6 (MK66FX) TMC2100 Pachter Lab Poseidon System Poseidon Controller Arduino Uno (ATMEGA328) DRV8825 Karpova Lab SCB for pyControl pyControl Feather M0 equivalent (ATSAMD21) TMC2209 The existence of these multiple solutions highlights the importance of the syringe pump not being tied to a specific technology stack. The pump can benefit more users since the control electronics are decoupled from the rest of the syringe pump. One can easily swap in their own electronics to integrate the pump with their particular setup. No more vendor lock-in! You should be able to use your syringe pumps with whatever system you choose. If a cool new display or better motor driver IC becomes available, upgrading the electronics should be an easy swap. Community Designs Do you have ideas for a custom control board? A design that you've already built? Consider sharing in the discussions for others to benefit from. I can add community design links and information to this documentation page! To ensure compatibility with the existing baseplate , your PCB should include a 7-pin header and a mounting hole (refer to the pyControl SCB layout below for dimensions). pyControl Syringe Control Board (SCB) # In our lab we designed a motor controller that interfaces with pyControl . It receives power and communication from pyControl hardware via an RJ45 connection. The PCB adheres to Adafruit's feather wing specification . This enables the possibility of plugging in a variety of \"feather wings\" to expand the controller's capabilities. For example a display or radio communication can be easily added. The motor controller can receive movement commands from pyControl and/or respond to user input from the onboard buttons. Information and warnings can be shown on the display. In the past, we have used a Mini color TFT with Joystick feather wing. Currently, we use the more basic 4-digit 7-segment display . Printed Circuit Board # The manufactured PCB contains two board designs which can be separated by breaking off the perforated \"mousebite\" tabs. The skinny PCB is meant to permanently attach to the syringe frame and make connections with the stepper motor and limit switches. It provides access to those connections through a 7-pin socket. The larger PCB is a pyControl compatible device that plugs into the motor connection socket. layout schematic render assembled TFT display 7-segment display Mini color TFT with Joystick 4-digit 7-segment display Bill of Materials # Qty Reference Description Value/MPN 5 C1, C5, C6, C7, C8 0603 Capacitor 100nF 3 C2, C3, C9 0603 Capacitor 2.2\u00b5F 1 C4 Electrolytic Capacitor 100\u00b5F 1 C10 0603 Capacitor 22nF 3 H1, H2, H3 2mm Standoff 9774010943R 1 J1 RJ45 Jack 54602-908LF 1 J2 16-pin Female Header ESQ-116-12-T-S 1 J3 12-pin Female Header ESQ-112-12-T-S 1 J4 7-pin Right Angle Male PH1RB-07-UA 1 J7 7-pin Right Angle Female PPTC071LGBN-RC 4 R1, R2, R3, R5 0603 Resistor 10K\u03a9 2 R4, R6 0805 Resistor 0.3\u03a9 3 S1, S2, S3 Right angle tactile switch PTS645VH39-2 1 U1 3.3V voltage regulator BU33SD2MG 1 U2 Microcontroller ATSAMD21G 1 U3 Motor Driver TMC2209 1 U4 EEPROM AT24C01C-STUM Assembly # Cut wires to the following lengths: motor leads: 25 mm infuse limit switch: 70 mm retract limit switch: 235 mm Programming # Black Magic Probe Tag-Connect 6pin RJ12 Black magic to Tag-Connect adapter PCB User Guide # Initial Setup # The Syringe Control Board needs to perform a \"homing\" sequence to determine how the electronics are connected. With this information it will know which direction to rotate for \"infuse\" and \"retract\", as well as which limit switch corresponds to which direction. Press and hold down the center of the button. After 4 dashed lines fill up the display, the carriage will begin to move. Once the carriage reaches a limit, select whether the direction it went was \"infuse\" or \"retract\" by pressing the left button for \"infuse\" or the right button for \"retract\". Check that everything is correct by pressing the right button. The carriage should move in the retracting direction until it hits the retraction limit and stops. pyControl Operation # The syringe board can be used as pyControl device. Its pinout is compatible with pyControl behavior ports . Note The pump must be plugged into a port that has a serial UART. For Breakout board 1.2 , this can be ports 1, 3 or 4. For D-series Breakout Board 1.6 , this can be ports 8, 10, 11 or 12. The following example assumes that the syringe pump is plugged into port 3 of Breakout board 1.2 . Download syringe_pump_device.py and place it in your \"devices\" directory. Download pump_example_task.py and place it in your \"tasks\" directory. Open up pyControl GUI Connect to your board Click the Config button and then click Load framework . This will ensure the syringe_pump_device.py is transferred onto the pyBoard microcontroller. From the Task dropdown select the \"pump_example_task\" Click Upload Click Start Pressing the user button on the breakout board will tell the syringe pump to infuse 0.25 mL. Click Variables and set the pump_volume to 2500. Press the user button again and see the difference. You can also try giving it a negative number, causing the motor to spin in the opposite direction.","title":"Electronics"},{"location":"electronics/#electronics","text":"","title":"Electronics"},{"location":"electronics/#modular-design","text":"A major benefit of this syringe pump design is that the electronics are modular. A 7-pin female header socket provides access to the bipolar stepper motor and two limit switches. Dispensing liquid from a syringe pump requires precise control of stepper motor's rotation. Typically, this involves having some control software running on a computer communicate to a microcontroller... when to rotate which direction to rotate how far to rotate how fast rotate The microcontroller calculates the quantity and timing of partial rotations (steps) that will produce the intended motor movement. This collection of precisely timed step signals is fed into a stepper motor driver IC, which in turn supplies current to motor coils in a sequence that creates a rotating magnetic field, causing the motor shaft to incrementally rotate ( here is a good video for more information on how hybrid stepper motors work). Multiple options exist for each element in the technology stack (control software + microcontroller + stepper driver IC), thereby creating many possibilities for controlling a syringe pump. For example, these three neuroscience labs developed the following solutions: Project Software Development Board (Microcontroller) Stepper Driver Poulet Lab Bpod motor controller Bpod Teensy 3.6 (MK66FX) TMC2100 Pachter Lab Poseidon System Poseidon Controller Arduino Uno (ATMEGA328) DRV8825 Karpova Lab SCB for pyControl pyControl Feather M0 equivalent (ATSAMD21) TMC2209 The existence of these multiple solutions highlights the importance of the syringe pump not being tied to a specific technology stack. The pump can benefit more users since the control electronics are decoupled from the rest of the syringe pump. One can easily swap in their own electronics to integrate the pump with their particular setup. No more vendor lock-in! You should be able to use your syringe pumps with whatever system you choose. If a cool new display or better motor driver IC becomes available, upgrading the electronics should be an easy swap. Community Designs Do you have ideas for a custom control board? A design that you've already built? Consider sharing in the discussions for others to benefit from. I can add community design links and information to this documentation page! To ensure compatibility with the existing baseplate , your PCB should include a 7-pin header and a mounting hole (refer to the pyControl SCB layout below for dimensions).","title":"Modular Design"},{"location":"electronics/#pycontrol-syringe-control-board-scb","text":"In our lab we designed a motor controller that interfaces with pyControl . It receives power and communication from pyControl hardware via an RJ45 connection. The PCB adheres to Adafruit's feather wing specification . This enables the possibility of plugging in a variety of \"feather wings\" to expand the controller's capabilities. For example a display or radio communication can be easily added. The motor controller can receive movement commands from pyControl and/or respond to user input from the onboard buttons. Information and warnings can be shown on the display. In the past, we have used a Mini color TFT with Joystick feather wing. Currently, we use the more basic 4-digit 7-segment display .","title":"pyControl Syringe Control Board (SCB)"},{"location":"electronics/#printed-circuit-board","text":"The manufactured PCB contains two board designs which can be separated by breaking off the perforated \"mousebite\" tabs. The skinny PCB is meant to permanently attach to the syringe frame and make connections with the stepper motor and limit switches. It provides access to those connections through a 7-pin socket. The larger PCB is a pyControl compatible device that plugs into the motor connection socket. layout schematic render assembled TFT display 7-segment display Mini color TFT with Joystick 4-digit 7-segment display","title":"Printed Circuit Board"},{"location":"electronics/#bill-of-materials","text":"Qty Reference Description Value/MPN 5 C1, C5, C6, C7, C8 0603 Capacitor 100nF 3 C2, C3, C9 0603 Capacitor 2.2\u00b5F 1 C4 Electrolytic Capacitor 100\u00b5F 1 C10 0603 Capacitor 22nF 3 H1, H2, H3 2mm Standoff 9774010943R 1 J1 RJ45 Jack 54602-908LF 1 J2 16-pin Female Header ESQ-116-12-T-S 1 J3 12-pin Female Header ESQ-112-12-T-S 1 J4 7-pin Right Angle Male PH1RB-07-UA 1 J7 7-pin Right Angle Female PPTC071LGBN-RC 4 R1, R2, R3, R5 0603 Resistor 10K\u03a9 2 R4, R6 0805 Resistor 0.3\u03a9 3 S1, S2, S3 Right angle tactile switch PTS645VH39-2 1 U1 3.3V voltage regulator BU33SD2MG 1 U2 Microcontroller ATSAMD21G 1 U3 Motor Driver TMC2209 1 U4 EEPROM AT24C01C-STUM","title":"Bill of Materials"},{"location":"electronics/#assembly","text":"Cut wires to the following lengths: motor leads: 25 mm infuse limit switch: 70 mm retract limit switch: 235 mm","title":"Assembly"},{"location":"electronics/#programming","text":"Black Magic Probe Tag-Connect 6pin RJ12 Black magic to Tag-Connect adapter PCB","title":"Programming"},{"location":"electronics/#user-guide","text":"","title":"User Guide"},{"location":"electronics/#initial-setup","text":"The Syringe Control Board needs to perform a \"homing\" sequence to determine how the electronics are connected. With this information it will know which direction to rotate for \"infuse\" and \"retract\", as well as which limit switch corresponds to which direction. Press and hold down the center of the button. After 4 dashed lines fill up the display, the carriage will begin to move. Once the carriage reaches a limit, select whether the direction it went was \"infuse\" or \"retract\" by pressing the left button for \"infuse\" or the right button for \"retract\". Check that everything is correct by pressing the right button. The carriage should move in the retracting direction until it hits the retraction limit and stops.","title":"Initial Setup"},{"location":"electronics/#pycontrol-operation","text":"The syringe board can be used as pyControl device. Its pinout is compatible with pyControl behavior ports . Note The pump must be plugged into a port that has a serial UART. For Breakout board 1.2 , this can be ports 1, 3 or 4. For D-series Breakout Board 1.6 , this can be ports 8, 10, 11 or 12. The following example assumes that the syringe pump is plugged into port 3 of Breakout board 1.2 . Download syringe_pump_device.py and place it in your \"devices\" directory. Download pump_example_task.py and place it in your \"tasks\" directory. Open up pyControl GUI Connect to your board Click the Config button and then click Load framework . This will ensure the syringe_pump_device.py is transferred onto the pyBoard microcontroller. From the Task dropdown select the \"pump_example_task\" Click Upload Click Start Pressing the user button on the breakout board will tell the syringe pump to infuse 0.25 mL. Click Variables and set the pump_volume to 2500. Press the user button again and see the difference. You can also try giving it a negative number, causing the motor to spin in the opposite direction.","title":"pyControl Operation"},{"location":"further/","text":"Further Resources # Karpova Lab # Lab website GitHub pyControl # Official documentation Google groups forum GitHub Ready to purchase hardware at Open Ephys Store and Labmaker","title":"Further Resources"},{"location":"further/#further-resources","text":"","title":"Further Resources"},{"location":"further/#karpova-lab","text":"Lab website GitHub","title":"Karpova Lab"},{"location":"further/#pycontrol","text":"Official documentation Google groups forum GitHub Ready to purchase hardware at Open Ephys Store and Labmaker","title":"pyControl"},{"location":"mechanical/","text":"Mechanics # Hardware # QTY Description Part Number Supplier 4 M3 x 25mm machine screw 92005A130 McMaster-Carr 6 M3 x 16mm machine screw 92005A126 McMaster-Carr 16 M3 x 10mm machine screw 92000A120 McMaster-Carr 15 M3 thin square nut 97259A101 McMaster-Carr 3 M3 threaded insert 94510A240 McMaster-Carr 4 Spring 9657K267 McMaster-Carr 2 Flanged sleeve bearing 5448T2 McMaster-Carr 1 Knob 6479K78 McMaster-Carr 1 200 x 8mm lead screw 3501-0804-0200 goBILDA 1 8mm lead screw nut 3505-0804-3216 goBILDA 1 200 x 8 mm shaft 2100-0008-0200 goBILDA 1 Linear ball bearing 1612-0815-0045 goBILDA 1 5 mm to 8 mm coupler 4002-0005-0008 goBILDA 2 Limit switch 255-5122-ND Digi-Key 2 DIN clip 277-2296-ND Digi-Key 1 Nema 17 bipolar 60Ncm 200steps 17HS24-0644S STEPPERONLINE Laser cut parts # 2D cutting services I've gotten good results using laser cutter / waterjet services from Big Blue Saw , SendCutSend , and OSH Cut . Base # The base can be cut out of aluminum or acrylic. Acrylic is a faster and cheaper option if you are using your own laser cutter. If you are outsourcing the laser cutting anyway, aluminum has the benefit of being stiffer for only a slightly higher cost. Aluminum Acrylic base_tapped_holes.dxf 3/16\"(0.1875\") aluminum 2.5 mm holes ready for M3x0.5 tap Laser cutting/water jetting may offer tapped holes as a service for an added cost. You can also tap the holes yourself using an M3x0.5 tap. base_threaded_inserts.dxf 1/4\"(0.25\") acrylic 4 mm holes for flanged M3 threaded inserts to be added Clamps # 1/4\"(0.25\") acrylic clamps.dxf 3D printed parts # These components are printed in Nylon PA 12 using an HP Multi-Jet-Fusion printer. Cradle # cradle.step Carriage # carriage.step End Support # end_support.step Assembly # Video # Tools # Phillips head screwdriver M2.5 mm allen key 5/64 allen key Instructions # 1. Assemble cradle # (2) M3x25mm screws (2) springs (2) square nuts (1) flanged sleeve bearing (1) laser cut acrylic clamp (1) 3d printed nylon cradle parts assembled 2. Mount motor to cradle and attach coupler # (4) M3x10mm screws (1) 5mm to 8mm coupler (1) motor with limit switches (1) cradle assembly parts assembled 3. Assemble carriage # (6) M3x10mm screws (2) M3x25mm screws (2) springs (8) square nuts (1) lead nut (1) linear bearing (1) laser cut acrylic clamp (1) 3d printed nylon carriage parts assembled 4. Connect carriage to motor # (1) lead screw (1) motor/cradle assembly (1) carriage assembly parts assembled 5. Attach baseplate # parts assembled 6. Attach end support # (1) flanged sleeve bearing (1) 3d printed nylon end support (2) M3 x 16mm screws (2) square nuts parts assembled 7. Add knob and support shaft # (1) M3 x 10mm screw (1) square nut (1) support shaft (1) knob parts assembled 8. Add control electronics # (1) M3 x 10mm screw (1) M3 threaded insert (1) Syringe Control Board parts assembled","title":"Mechanics"},{"location":"mechanical/#mechanics","text":"","title":"Mechanics"},{"location":"mechanical/#hardware","text":"QTY Description Part Number Supplier 4 M3 x 25mm machine screw 92005A130 McMaster-Carr 6 M3 x 16mm machine screw 92005A126 McMaster-Carr 16 M3 x 10mm machine screw 92000A120 McMaster-Carr 15 M3 thin square nut 97259A101 McMaster-Carr 3 M3 threaded insert 94510A240 McMaster-Carr 4 Spring 9657K267 McMaster-Carr 2 Flanged sleeve bearing 5448T2 McMaster-Carr 1 Knob 6479K78 McMaster-Carr 1 200 x 8mm lead screw 3501-0804-0200 goBILDA 1 8mm lead screw nut 3505-0804-3216 goBILDA 1 200 x 8 mm shaft 2100-0008-0200 goBILDA 1 Linear ball bearing 1612-0815-0045 goBILDA 1 5 mm to 8 mm coupler 4002-0005-0008 goBILDA 2 Limit switch 255-5122-ND Digi-Key 2 DIN clip 277-2296-ND Digi-Key 1 Nema 17 bipolar 60Ncm 200steps 17HS24-0644S STEPPERONLINE","title":"Hardware"},{"location":"mechanical/#laser-cut-parts","text":"2D cutting services I've gotten good results using laser cutter / waterjet services from Big Blue Saw , SendCutSend , and OSH Cut .","title":"Laser cut parts"},{"location":"mechanical/#base","text":"The base can be cut out of aluminum or acrylic. Acrylic is a faster and cheaper option if you are using your own laser cutter. If you are outsourcing the laser cutting anyway, aluminum has the benefit of being stiffer for only a slightly higher cost. Aluminum Acrylic base_tapped_holes.dxf 3/16\"(0.1875\") aluminum 2.5 mm holes ready for M3x0.5 tap Laser cutting/water jetting may offer tapped holes as a service for an added cost. You can also tap the holes yourself using an M3x0.5 tap. base_threaded_inserts.dxf 1/4\"(0.25\") acrylic 4 mm holes for flanged M3 threaded inserts to be added","title":"Base"},{"location":"mechanical/#clamps","text":"1/4\"(0.25\") acrylic clamps.dxf","title":"Clamps"},{"location":"mechanical/#3d-printed-parts","text":"These components are printed in Nylon PA 12 using an HP Multi-Jet-Fusion printer.","title":"3D printed parts"},{"location":"mechanical/#cradle","text":"cradle.step","title":"Cradle"},{"location":"mechanical/#carriage","text":"carriage.step","title":"Carriage"},{"location":"mechanical/#end-support","text":"end_support.step","title":"End Support"},{"location":"mechanical/#assembly","text":"","title":"Assembly"},{"location":"mechanical/#video","text":"","title":"Video"},{"location":"mechanical/#tools","text":"Phillips head screwdriver M2.5 mm allen key 5/64 allen key","title":"Tools"},{"location":"mechanical/#instructions","text":"","title":"Instructions"},{"location":"mechanical/#1-assemble-cradle","text":"(2) M3x25mm screws (2) springs (2) square nuts (1) flanged sleeve bearing (1) laser cut acrylic clamp (1) 3d printed nylon cradle parts assembled","title":"1. Assemble cradle"},{"location":"mechanical/#2-mount-motor-to-cradle-and-attach-coupler","text":"(4) M3x10mm screws (1) 5mm to 8mm coupler (1) motor with limit switches (1) cradle assembly parts assembled","title":"2. Mount motor to cradle and attach coupler"},{"location":"mechanical/#3-assemble-carriage","text":"(6) M3x10mm screws (2) M3x25mm screws (2) springs (8) square nuts (1) lead nut (1) linear bearing (1) laser cut acrylic clamp (1) 3d printed nylon carriage parts assembled","title":"3. Assemble carriage"},{"location":"mechanical/#4-connect-carriage-to-motor","text":"(1) lead screw (1) motor/cradle assembly (1) carriage assembly parts assembled","title":"4. Connect carriage to motor"},{"location":"mechanical/#5-attach-baseplate","text":"parts assembled","title":"5. Attach baseplate"},{"location":"mechanical/#6-attach-end-support","text":"(1) flanged sleeve bearing (1) 3d printed nylon end support (2) M3 x 16mm screws (2) square nuts parts assembled","title":"6. Attach end support"},{"location":"mechanical/#7-add-knob-and-support-shaft","text":"(1) M3 x 10mm screw (1) square nut (1) support shaft (1) knob parts assembled","title":"7. Add knob and support shaft"},{"location":"mechanical/#8-add-control-electronics","text":"(1) M3 x 10mm screw (1) M3 threaded insert (1) Syringe Control Board parts assembled","title":"8. Add control electronics"}]}